{"remainingRequest":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniil/Projects/Web/Task11/lesson11/frontend/src/components/middle/post/WriteComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/src/components/middle/post/WriteComment.vue","mtime":1608283405257},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV3JpdGVDb21tZW50IiwKICBwcm9wczogWyJwb3N0Il0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgdGV4dDogIiIsCiAgICAgIGVycm9yOiAiIiwKICAgICAgaGlkZGVuOiBmYWxzZSwKICAgIH0KICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy4kcm9vdC4kb24oIm9uV3JpdGVDb21tZW50VmFsaWRhdGlvbkVycm9yIiwgZXJyb3IgPT4gewogICAgICB0aGlzLmVycm9yID0gZXJyb3I7CiAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJvbldyaXRlQ29tbWVudEFjY2VwdGVkIiwgKCkgPT4gewogICAgICB0aGlzLnRleHQgPSAiIjsKICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb25Xcml0ZUNvbW1lbnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5oaWRkZW4gPSB0cnVlOwogICAgICB0aGlzLiRyb290LiRlbWl0KCJvbldyaXRlQ29tbWVudCIsIHRoaXMucG9zdCwgdGhpcy50ZXh0KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["WriteComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WriteComment.vue","sourceRoot":"src/components/middle/post","sourcesContent":["<template>\n  <div class=\"form\">\n    <div class=\"body\">\n      <form class=\"comment-form\" @submit.prevent=\"onWriteComment\" v-if=\"!hidden\">\n        <div class=\"field\">\n          <div class=\"name\">\n            <label for=\"text\">Write your comment</label>\n          </div>\n          <div class=\"value\">\n            <textarea id=\"text\" name=\"text\" v-model=\"text\"></textarea>\n          </div>\n        </div>\n        <div class=\"error\">{{ error }}</div>\n        <div class=\"button-field\">\n          <input type=\"submit\" value=\"Write\">\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"WriteComment\",\n  props: [\"post\"],\n  data: function () {\n    return {\n      text: \"\",\n      error: \"\",\n      hidden: false,\n    }\n  },\n  beforeMount() {\n    this.$root.$on(\"onWriteCommentValidationError\", error => {\n      this.error = error;\n      this.hidden = false;\n    });\n    this.$root.$on(\"onWriteCommentAccepted\", () => {\n      this.text = \"\";\n      this.hidden = false;\n    });\n  },\n  methods: {\n    onWriteComment: function () {\n      this.hidden = true;\n      this.$root.$emit(\"onWriteComment\", this.post, this.text);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.comment-form {\n  margin: 1rem auto;\n}\n\n.comment-form .field {\n  margin-bottom: 1rem;\n}\n\n.comment-form .field input, .comment-form .field textarea {\n  width: 100%;\n}\n\n.comment-form .field textarea {\n  min-height: 4rem;\n  max-height: 10rem;\n  min-width: 99.6%;\n  max-width: 99.6%;\n}\n\n.comment-form .button-field input {\n  padding: 0.1rem 1.5rem;\n}\n</style>"]}]}