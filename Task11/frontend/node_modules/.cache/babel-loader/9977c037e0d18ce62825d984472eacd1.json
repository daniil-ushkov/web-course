{"remainingRequest":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/babel-loader/lib/index.js!/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniil/Projects/Web/Task11/lesson11/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/src/App.vue","mtime":1608289150302},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniil/Projects/Web/Task11/lesson11/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIZWFkZXIgZnJvbSAiLi9jb21wb25lbnRzL0hlYWRlciI7CmltcG9ydCBNaWRkbGUgZnJvbSAiLi9jb21wb25lbnRzL01pZGRsZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiLi9jb21wb25lbnRzL0Zvb3RlciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXI6IEZvb3RlciwKICAgIE1pZGRsZTogTWlkZGxlLAogICAgSGVhZGVyOiBIZWFkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiBudWxsLAogICAgICB1c2VyczogW10sCiAgICAgIHBvc3RzOiBbXQogICAgfTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKSAmJiAhdGhpcy51c2VyKSB7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIm9uSnd0IiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpKTsKICAgIH0KCiAgICBheGlvcy5nZXQoIi9hcGkvMS91c2VycyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnVzZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgYXhpb3MuZ2V0KCIvYXBpLzEvcG9zdHMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5wb3N0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy4kcm9vdC4kb24oIm9uRW50ZXIiLCBmdW5jdGlvbiAobG9naW4sIHBhc3N3b3JkKSB7CiAgICAgIC8vIFZhbGlkYXRpb24KICAgICAgLy8gaWYgKHBhc3N3b3JkID09PSAiIikgewogICAgICAvLyAgIHRoaXMuJHJvb3QuJGVtaXQoIm9uRW50ZXJWYWxpZGF0aW9uRXJyb3IiLCAiUGFzc3dvcmQgaXMgcmVxdWlyZWQiKTsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KICAgICAgYXhpb3MucG9zdCgiL2FwaS8xL2p3dCIsIHsKICAgICAgICBsb2dpbjogbG9naW4sCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImp3dCIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIm9uSnd0IiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25FbnRlclZhbGlkYXRpb25FcnJvciIsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oIm9uUmVnaXN0ZXIiLCBmdW5jdGlvbiAobG9naW4sIG5hbWUsIHBhc3N3b3JkKSB7CiAgICAgIC8vIFZhbGlkYXRpb24KICAgICAgLy8gaWYgKGxvZ2luLmxlbmd0aCA8IDMgfHwgbG9naW4ubGVuZ3RoID4gMTYpIHsKICAgICAgLy8gICB0aGlzLiRyb290LiRlbWl0KCJvblJlZ2lzdGVyVmFsaWRhdGlvbkVycm9yIiwgIkxvZ2luIGxlbmd0aCBzaG91bGQgYmUgaW4gcmFuZ2UgZnJvbSAzIHRvIDE2IGNoYXJzIik7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgIC8vIGlmICghL15bYS16QS1aKCldKyQvLnRlc3QobG9naW4pKSB7CiAgICAgIC8vICAgdGhpcy4kcm9vdC4kZW1pdCgib25SZWdpc3RlclZhbGlkYXRpb25FcnJvciIsICJMb2dpbiBzaG91bGQgY29udGFpbiBvbmx5IGxhdGluIGNoYXJzIik7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgIC8vIGlmIChuYW1lLmxlbmd0aCA8IDEgfHwgbmFtZS5sZW5ndGggPiAzMikgewogICAgICAvLyAgIHRoaXMuJHJvb3QuJGVtaXQoIm9uUmVnaXN0ZXJWYWxpZGF0aW9uRXJyb3IiLCAiTmFtZSBsZW5ndGggc2hvdWxkIGJlIGluIHJhbmdlIGZyb20gMSB0byAzMiBjaGFycyIpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICAvLyBpZiAocGFzc3dvcmQgPT09ICIiKSB7CiAgICAgIC8vICAgdGhpcy4kcm9vdC4kZW1pdCgib25SZWdpc3RlclZhbGlkYXRpb25FcnJvciIsICJQYXNzd29yZCBpcyByZXF1aXJlZCIpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICAvLyBpZiAocGFzc3dvcmQubGVuZ3RoIDwgNCB8fCBwYXNzd29yZC5sZW5ndGggPiAyMCkgewogICAgICAvLyAgIHRoaXMuJHJvb3QuJGVtaXQoIm9uUmVnaXN0ZXJWYWxpZGF0aW9uRXJyb3IiLCAiUGFzc3dvcmQgbGVuZ3RoIHNob3VsZCBiZSBpbiByYW5nZSBmcm9tIDQgdG8gMjAgY2hhcnMiKTsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KICAgICAgYXhpb3MucG9zdCgiL2FwaS8xL3VzZXJzL3JlZ2lzdGVyIiwgewogICAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBheGlvcy5nZXQoIi9hcGkvMS91c2VycyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIudXNlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIm9uRW50ZXIiLCBsb2dpbiwgcGFzc3dvcmQpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIm9uUmVnaXN0ZXJWYWxpZGF0aW9uRXJyb3IiLCBlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJvbkp3dCIsIGZ1bmN0aW9uIChqd3QpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImp3dCIsIGp3dCk7CiAgICAgIGF4aW9zLmdldCgiL2FwaS8xL3VzZXJzL2F1dGgiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBqd3Q6IGp3dAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIudXNlciA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25DaGFuZ2VQYWdlIiwgIkluZGV4Iik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiRyb290LiRlbWl0KCJvbkxvZ291dCIpOwogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oIm9uTG9nb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiand0Iik7CiAgICAgIF90aGlzMi51c2VyID0gbnVsbDsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oIm9uV3JpdGVQb3N0IiwgZnVuY3Rpb24gKHRpdGxlLCB0ZXh0KSB7CiAgICAgIHZhciBqd3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0Jyk7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvMS9wb3N0cyIsIHsKICAgICAgICBqd3Q6IGp3dCwKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgdGV4dDogdGV4dAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBheGlvcy5nZXQoIi9hcGkvMS9wb3N0cyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIucG9zdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIm9uQ2hhbmdlUGFnZSIsICJJbmRleCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiRyb290LiRlbWl0KCJvbldyaXRlUG9zdFZhbGlkYXRpb25FcnJvciIsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oIm9uV3JpdGVDb21tZW50IiwgZnVuY3Rpb24gKHBvc3QsIHRleHQpIHsKICAgICAgdmFyIGp3dCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKTsKICAgICAgYXhpb3MucG9zdCgiYXBpLzEvY29tbWVudHMiLCB7CiAgICAgICAgand0OiBqd3QsCiAgICAgICAgcG9zdDogcG9zdCwKICAgICAgICB0ZXh0OiB0ZXh0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnBvc3RzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwLmlkID09PSBwb3N0LmlkOwogICAgICAgIH0pLmNvbW1lbnRzLnB1c2gocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25Xcml0ZUNvbW1lbnRBY2NlcHRlZCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHsKICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25Xcml0ZUNvbW1lbnRWYWxpZGF0aW9uRXJyb3IiLCAiSW50ZXJuYWwgc2VydmVyIGVycm9yIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25Xcml0ZUNvbW1lbnRWYWxpZGF0aW9uRXJyb3IiLCBlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <Header :user=\"user\"/>\n    <Middle :users=\"users\" :posts=\"posts\"/>\n    <Footer/>\n  </div>\n</template>\n\n<script>\nimport Header from \"./components/Header\";\nimport Middle from \"./components/Middle\";\nimport Footer from \"./components/Footer\";\nimport axios from \"axios\"\n\nexport default {\n  name: 'App',\n  components: {\n    Footer,\n    Middle,\n    Header\n  },\n  data: function () {\n    return {\n      user: null,\n      users: [],\n      posts: []\n    }\n  },\n  beforeMount() {\n    if (localStorage.getItem(\"jwt\") && !this.user) {\n      this.$root.$emit(\"onJwt\", localStorage.getItem(\"jwt\"));\n    }\n\n    axios.get(\"/api/1/users\").then(response => {\n      this.users = response.data;\n    });\n\n    axios.get(\"/api/1/posts\").then(response => {\n      this.posts = response.data;\n    });\n  },\n  beforeCreate() {\n    this.$root.$on(\"onEnter\", (login, password) => {\n      // Validation\n      // if (password === \"\") {\n      //   this.$root.$emit(\"onEnterValidationError\", \"Password is required\");\n      //   return;\n      // }\n\n      axios.post(\"/api/1/jwt\", {\n        login, password\n      }).then(response => {\n        localStorage.setItem(\"jwt\", response.data);\n        this.$root.$emit(\"onJwt\", response.data);\n      }).catch(error => {\n        this.$root.$emit(\"onEnterValidationError\", error.response.data);\n      });\n    });\n\n    this.$root.$on(\"onRegister\", (login, name, password) => {\n      // Validation\n      // if (login.length < 3 || login.length > 16) {\n      //   this.$root.$emit(\"onRegisterValidationError\", \"Login length should be in range from 3 to 16 chars\");\n      //   return;\n      // }\n      // if (!/^[a-zA-Z()]+$/.test(login)) {\n      //   this.$root.$emit(\"onRegisterValidationError\", \"Login should contain only latin chars\");\n      //   return;\n      // }\n      // if (name.length < 1 || name.length > 32) {\n      //   this.$root.$emit(\"onRegisterValidationError\", \"Name length should be in range from 1 to 32 chars\");\n      //   return;\n      // }\n      // if (password === \"\") {\n      //   this.$root.$emit(\"onRegisterValidationError\", \"Password is required\");\n      //   return;\n      // }\n      // if (password.length < 4 || password.length > 20) {\n      //   this.$root.$emit(\"onRegisterValidationError\", \"Password length should be in range from 4 to 20 chars\");\n      //   return;\n      // }\n\n      axios.post(\"/api/1/users/register\", {\n        login, name, password\n      }).then(() => {\n        axios.get(\"/api/1/users\").then(response => {\n          this.users = response.data;\n        });\n        this.$root.$emit(\"onEnter\", login, password);\n      }).catch(error => {\n        this.$root.$emit(\"onRegisterValidationError\", error.response.data);\n      });\n    });\n\n    this.$root.$on(\"onJwt\", (jwt) => {\n      localStorage.setItem(\"jwt\", jwt);\n\n      axios.get(\"/api/1/users/auth\", {\n        params: {\n          jwt\n        }\n      }).then(response => {\n        this.user = response.data;\n        this.$root.$emit(\"onChangePage\", \"Index\");\n      }).catch(() => this.$root.$emit(\"onLogout\"))\n    });\n\n    this.$root.$on(\"onLogout\", () => {\n      localStorage.removeItem(\"jwt\");\n      this.user = null;\n    });\n\n    this.$root.$on(\"onWritePost\", (title, text) => {\n      let jwt = localStorage.getItem('jwt');\n      axios.post(\"/api/1/posts\", {jwt, title, text})\n          .then(() => {\n            axios.get(\"/api/1/posts\").then(response => {\n              this.posts = response.data;\n            });\n            this.$root.$emit(\"onChangePage\", \"Index\");\n          })\n          .catch((error) => this.$root.$emit(\"onWritePostValidationError\", error.response.data));\n    })\n\n    this.$root.$on(\"onWriteComment\", (post, text) => {\n      let jwt = localStorage.getItem('jwt');\n      axios.post(\"api/1/comments\", {jwt, post, text})\n          .then((response) => {\n            this.posts.find(p => p.id === post.id).comments.push(response.data);\n            this.$root.$emit(\"onWriteCommentAccepted\");\n          })\n          .catch((error) => {\n            if (error.response.status === 500) {\n              this.$root.$emit(\"onWriteCommentValidationError\", \"Internal server error\");\n            } else {\n              this.$root.$emit(\"onWriteCommentValidationError\", error.response.data);\n            }\n          });\n    })\n  }\n}\n</script>\n\n<style>\n#app {\n\n}\n</style>\n"],"sourceRoot":"src"}]}